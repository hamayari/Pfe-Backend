# Configuration pour les tests
# Note: spring.profiles.active should NOT be set in profile-specific files

# Allow bean definition overriding for test configurations
spring.main.allow-bean-definition-overriding=true

# MongoDB Embedded pour les tests (Flapdoodle)
# Pas besoin de configurer host/port, MongoDB embarqué démarre automatiquement
spring.data.mongodb.database=test_db
de.flapdoodle.mongodb.embedded.version=5.0.5

# Désactiver les initialisations au démarrage
spring.jpa.hibernate.ddl-auto=none
spring.data.mongodb.auto-index-creation=true

# Désactiver MongoDB Auditing pour les tests
spring.data.mongodb.auditing.enabled=false

# JWT Configuration pour les tests
app.jwtSecret=testSecretKeyForJunitTestsOnlyNotForProduction12345678901234567890
app.jwtExpirationMs=3600000
app.jwtRefreshExpirationMs=86400000

# ═══════════════════════════════════════════════════════════════
# DÉSACTIVER TOUS LES SERVICES EXTERNES
# ═══════════════════════════════════════════════════════════════

# Email (Brevo/SMTP) - DÉSACTIVÉ
spring.mail.host=localhost
spring.mail.port=25
spring.mail.username=test
spring.mail.password=test
mail.enabled=false
brevo.enabled=false

# SMS (Twilio) - DÉSACTIVÉ
twilio.enabled=false
twilio.account.sid=test
twilio.auth.token=test
twilio.phone.number=+1234567890

# Paiement (Stripe) - DÉSACTIVÉ
stripe.enabled=false
stripe.api.key=test_key
stripe.webhook.secret=test_secret

# IA (Gemini) - DÉSACTIVÉ
gemini.enabled=false
gemini.api.key=test-key

# N8N Webhook - DÉSACTIVÉ
n8n.enabled=false
n8n.webhook.url=http://localhost:5678/webhook-test

# Notifications Push - DÉSACTIVÉ
push.notifications.enabled=false

# Désactiver les schedulers pendant les tests
scheduling.enabled=false

# Logs
logging.level.org.springframework=WARN
logging.level.com.example.demo=INFO
logging.level.org.springframework.data.mongodb=INFO
logging.level.de.flapdoodle.embed.mongo=WARN
