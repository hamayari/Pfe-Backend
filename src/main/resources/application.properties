# =========================================
# Application Basic Config
# =========================================
spring.application.name=demo
server.port=8085

# Debug / Logging
debug=false
trace=false
logging.level.org.springframework.boot.autoconfigure=ERROR
logging.level.org.springframework.context.annotation.ConditionEvaluator=ERROR
logging.level.root=WARN
logging.level.com.example.demo=INFO
logging.pattern.console=%d{HH:mm:ss} %msg%n

# Encoding
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# =========================================
# MongoDB Atlas (URI via ENV)
# =========================================
spring.data.mongodb.uri=${MONGO_URI}
spring.data.mongodb.database=demo_db
spring.data.mongodb.auto-index-creation=true

# =========================================
# JWT (via ENV)
# =========================================
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration-ms=86400000
app.jwt.refresh-expiration-ms=604800000
app.jwt.issuer=demo-application

# =========================================
# Email SMTP (via ENV)
# =========================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
mail.from.address=${MAIL_FROM_ADDRESS}
mail.from.name=GestionPro

# =========================================
# Twilio (via ENV)
# =========================================
twilio.account.sid=${TWILIO_ACCOUNT_SID}
twilio.auth.token=${TWILIO_AUTH_TOKEN}
twilio.phone.number=${TWILIO_PHONE_NUMBER}
twilio.whatsapp.number=${TWILIO_WHATSAPP_NUMBER}
sms.simulation.mode=false

# =========================================
# File Upload
# =========================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
file.upload-dir=./uploads/
app.upload.dir=./uploads
app.upload.max-file-size=10485760

# =========================================
# WebSocket
# =========================================
spring.websocket.max-text-message-size=8192
spring.websocket.max-binary-message-size=8192

# =========================================
# Security / Super Admin (via ENV)
# =========================================
spring.security.user.name=${SPRING_ADMIN_USER}
spring.security.user.password=${SPRING_ADMIN_PASSWORD}
superadmin.username=${SUPERADMIN_USER}
superadmin.password=${SUPERADMIN_PASSWORD}
superadmin.email=${SUPERADMIN_EMAIL}

# =========================================
# Notifications
# =========================================
notification.email.enabled=true
notification.sms.enabled=true
notification.reminder.days=7,3,1

# =========================================
# Cache
# =========================================
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=600s

# =========================================
# Fallback database (H2)
# =========================================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# =========================================
# Development
# =========================================
spring.profiles.active=dev
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
