# Configuration Spring Boot pour Production (Render)
spring.application.name=commercial-pfe-backend
server.port=${SERVER_PORT:8085}

# Configuration MongoDB pour Production - URI MongoDB Atlas
spring.data.mongodb.uri=mongodb+srv://admin:Admin123!@cluster0.pjn2eyx.mongodb.net/demo_db?retryWrites=true&w=majority&authSource=admin
spring.data.mongodb.database=demo_db
spring.data.mongodb.auto-index-creation=true

# Configuration JWT
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration-ms=${JWT_EXPIRATION:86400000}
app.jwt.refresh-expiration-ms=${APP_JWT_REFRESH_EXPIRATION_MS:604800000}
app.jwt.issuer=commercial-pfe-application

# Configuration Email
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE:true}
spring.mail.properties.mail.smtp.starttls.required=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_REQUIRED:true}
spring.mail.properties.mail.smtp.ssl.trust=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_TRUST:smtp.gmail.com}
mail.from.address=${MAIL_FROM_ADDRESS}
mail.from.name=${MAIL_FROM_NAME:GestionPro}

# Configuration Twilio
twilio.account.sid=${TWILIO_ACCOUNT_SID}
twilio.auth.token=${TWILIO_AUTH_TOKEN}
twilio.phone.number=${TWILIO_PHONE_NUMBER}
sms.simulation.mode=${SMS_SIMULATION_MODE:false}

# Configuration Gemini AI
gemini.api.key=${GEMINI_API_KEY}
gemini.model=${GEMINI_MODEL:gemini-2.0-flash}
gemini.api.url=${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent}

# Configuration des notifications
notification.email.enabled=${NOTIFICATION_EMAIL_ENABLED:true}
notification.sms.enabled=${NOTIFICATION_SMS_ENABLED:true}
notification.reminder.days=${NOTIFICATION_REMINDER_DAYS:7,3,1}

# Configuration des fichiers uploadés
spring.servlet.multipart.max-file-size=${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max_request-size=${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE:10MB}
file.upload-dir=${FILE_UPLOAD_DIR:/tmp/uploads/}
app.upload.dir=${FILE_UPLOAD_DIR:/tmp/uploads/}
app.upload.max-file-size=10485760

# Configuration de sécurité
spring.security.user.name=${SPRING_SECURITY_USER_NAME:admin}
spring.security.user.password=${SPRING_SECURITY_USER_PASSWORD:admin}

# Configuration Super Admin
superadmin.username=${SUPERADMIN_USERNAME:superadmin}
superadmin.password=${SUPERADMIN_PASSWORD:admin123}
superadmin.email=${SUPERADMIN_EMAIL:superadmin@example.com}

# Logs pour Production
logging.level.root=${LOGGING_LEVEL_ROOT:INFO}
logging.level.com.example.demo=${LOGGING_LEVEL_COM_EXAMPLE_DEMO:INFO}
logging.level.org.springframework=${LOGGING_LEVEL_ORG_SPRINGFRAMEWORK:WARN}
logging.level.org.springframework.data.mongodb=${LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_DATA_MONGODB:WARN}
logging.pattern.console=%d{HH:mm:ss} %msg%n

# Monitoring
monitoring.enabled=${MONITORING_ENABLED:true}
monitoring.thresholds.response-time=${MONITORING_THRESHOLDS_RESPONSE_TIME:5000}
monitoring.thresholds.error-rate=${MONITORING_THRESHOLDS_ERROR_RATE:10}

# Cache
spring.cache.type=${SPRING_CACHE_TYPE:caffeine}
spring.cache.caffeine.spec=${SPRING_CACHE_CAFFEINE_SPEC:maximumSize=100,expireAfterWrite=300s}

# Export
export.excel.max-rows=${EXPORT_EXCEL_MAX_ROWS:1000}
export.pdf.page-size=${EXPORT_PDF_PAGE_SIZE:A4}

# CORS
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}

# Désactiver H2 en Production
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
